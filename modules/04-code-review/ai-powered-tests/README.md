# Activity 4C: AI-Powered Test Generation

**Time:** 25 minutes
**Difficulty:** Intermediate

## The Challenge: Write Tests with AI

A critical and time-consuming part of software development is writing tests. AI can be a powerful assistant in this process, but it's not as simple as asking it to "write tests for this code."

## Your Mission

You have been given a utility function that has no tests. Your mission is to use an AI coding assistant to write a comprehensive test suite for this function.

## The Code to Test

```javascript
// utils/analytics.js

/**
 * Calculates the engagement score for an article.
 * The score is based on views, shares, and comments, with comments having the most weight.
 * The score is capped at 100.
 */
export function calculateEngagementScore(views, shares, comments) {
  if (views < 0 || shares < 0 || comments < 0) {
    return 0;
  }

  const score = (views * 0.1) + (shares * 0.3) + (comments * 0.6);

  return Math.min(score, 100);
}
```

## Your Tasks

1.  **Generate "Happy Path" Tests:** Ask the AI to generate basic test cases for the `calculateEngagementScore` function with valid inputs.
2.  **Generate Edge Case Tests:** Ask the AI to generate test cases for edge cases, such as zero values, negative values, and values that would result in a score greater than 100.
3.  **Generate Tests for Invalid Inputs:** Ask the AI to generate tests for invalid inputs, such as strings, nulls, and undefined values.
4.  **Review and Refine:** Review the tests generated by the AI. Are they correct? Are they comprehensive? Are there any missing cases? Refine the tests as needed.

## Example Prompts

- "Write Jest tests for the `calculateEngagementScore` function in `utils/analytics.js`."
- "What are some edge cases for the `calculateEngagementScore` function? Write tests for them."
- "How would the `calculateEngagementScore` function handle invalid inputs like strings or nulls? Write tests to verify this."

## Success Criteria

- [ ] You have a test file (`analytics.test.js`) with a comprehensive suite of tests for the `calculateEngagementScore` function.
- [ ] The tests cover the "happy path," edge cases, and invalid inputs.
- [ ] All tests pass.
- [ ] You can explain the purpose of each test case.

## Group Discussion

- Did the AI generate correct and useful tests?
- What kinds of test cases did the AI miss?
- How much time do you think using an AI for test generation could save you in your daily work?
- What are the risks of relying on AI to write your tests?
